<!DOCTYPE html> <html lang="en"> <head>     <meta charset="UTF-8">     <meta name="viewport" content="width=device-width, initial-scale=1.0">     <title>Bubble Sort Visualization</title>     <style>         body {             font-family: Arial, sans-serif;             display: flex;             flex-direction: column;             align-items: center;             background-color: #f5f5f5;             padding: 20px;         }         .container {             width: 800px;             max-width: 100%;             background-color: white;             border-radius: 10px;             box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);             padding: 20px;             margin-bottom: 20px;         }         h1 {             text-align: center;             color: #333;         }         .array-container {             display: flex;             justify-content: center;             margin: 40px 0;             position: relative;             height: 180px;         }         .element {             width: 60px;             height: 60px;             background-color: #6a89cc;             color: white;             display: flex;             justify-content: center;             align-items: center;             margin: 0 10px;             border-radius: 5px;             font-size: 24px;             font-weight: bold;             position: relative;             transition: all 0.5s ease;         }         .comparing {             background-color: #feca57;         }         .swapping {             background-color: #ff6b6b;         }         .sorted {             background-color: #1dd1a1;         }         .comparison-arrow {             position: absolute;             top: 70px;             font-size: 30px;             color: #feca57;         }         .navigation {             display: flex;             justify-content: center;             gap: 20px;             margin-top: 20px;         }         button {             padding: 10px 20px;             background-color: #6a89cc;             color: white;             border: none;             border-radius: 5px;             cursor: pointer;             font-size: 16px;             transition: background-color 0.3s;         }         button:hover {             background-color: #4a69bd;         }         button:disabled {             background-color: #ccc;             cursor: not-allowed;         }         .explanation {             margin-top: 20px;             padding: 15px;             background-color: #f8f9fa;             border-radius: 5px;             border-left: 4px solid #6a89cc;         }         .step-indicator {             text-align: center;             margin-bottom: 10px;             font-weight: bold;             color: #333;         }     </style> </head> <body>     <div class="container">         <h1>Bubble Sort Visualization</h1>         <div class="step-indicator" id="stepIndicator">Step 1 of 10</div>         <div class="array-container" id="arrayContainer"></div>         <div class="explanation" id="explanation"></div>         <div class="navigation">             <button id="prevBtn" disabled>Previous</button>             <button id="nextBtn">Next</button>         </div>     </div>      <script>         const initialArray = [5, 3, 8, 4, 2];         let steps = [];         let currentStep = 0;          // Generate all the steps for bubble sort         function generateSteps() {             // Initial state             steps.push({                 array: [...initialArray],                 comparing: [],                 swapped: false,                 explanation: "Initial array: [5, 3, 8, 4, 2]. Bubble sort works by repeatedly stepping through the list, comparing adjacent elements, and swapping them if they are in the wrong order.",                 sorted: []             });              // Create a copy of the array to work with             let array = [...initialArray];             let n = array.length;             let sorted = [];              // Simulate bubble sort and save each step             for (let i = 0; i < n - 1; i++) {                 let anySwapped = false;                                  for (let j = 0; j < n - i - 1; j++) {                     // Comparing step                     steps.push({                         array: [...array],                         comparing: [j, j + 1],                         swapped: false,                         explanation: `Comparing elements ${array[j]} and ${array[j + 1]}.`,                         sorted: [...sorted]                     });                                          if (array[j] > array[j + 1]) {                         // Swapping step                         let temp = array[j];                         array[j] = array[j + 1];                         array[j + 1] = temp;                         anySwapped = true;                                                  steps.push({                             array: [...array],                             comparing: [j, j + 1],                             swapped: true,                             explanation: `${array[j + 1]} is greater than ${array[j]}, so we swap them.`,                             sorted: [...sorted]                         });                     } else {                         steps.push({                             array: [...array],                             comparing: [j, j + 1],                             swapped: false,                             explanation: `${array[j]} is already less than or equal to ${array[j + 1]}, no swap needed.`,                             sorted: [...sorted]                         });                     }                 }                                  // Mark the last element of this pass as sorted                 sorted.unshift(n - i - 1);                                  // After each pass                 steps.push({                     array: [...array],                     comparing: [],                     swapped: false,                     explanation: `End of pass ${i + 1}. The largest element has bubbled to position ${n - i - 1}.`,                     sorted: [...sorted]                 });                                  // If no elements were swapped in this pass, the array is sorted                 if (!anySwapped) {                     // Mark remaining elements as sorted                     for (let k = n - i - 2; k >= 0; k--) {                         if (!sorted.includes(k)) {                             sorted.unshift(k);                         }                     }                                          steps.push({                         array: [...array],                         comparing: [],                         swapped: false,                         explanation: "No swaps were made in the last pass, which means the array is now fully sorted!",                         sorted: [...sorted]                     });                     break;                 }             }         }          // Render the current step         function renderStep() {             const step = steps[currentStep];             const arrayContainer = document.getElementById('arrayContainer');             const explanation = document.getElementById('explanation');             const stepIndicator = document.getElementById('stepIndicator');                          // Clear previous content             arrayContainer.innerHTML = '';                          // Create and position elements             for (let i = 0; i < step.array.length; i++) {                 const element = document.createElement('div');                 element.className = 'element';                                  // Add appropriate classes                 if (step.comparing.includes(i)) {                     element.classList.add('comparing');                     if (step.swapped && step.comparing.indexOf(i) !== -1) {                         element.classList.add('swapping');                     }                 }                                  if (step.sorted.includes(i)) {                     element.classList.add('sorted');                 }                                  element.textContent = step.array[i];                 arrayContainer.appendChild(element);                                  // Add comparison arrow if comparing                 if (i === step.comparing[0]) {                     const arrow = document.createElement('div');                     arrow.className = 'comparison-arrow';                     arrow.innerHTML = '&#8644;'; // Double-headed arrow                     arrow.style.left = `${(i * 80) + 45}px`;                     arrayContainer.appendChild(arrow);                 }             }                          // Update explanation             explanation.textContent = step.explanation;                          // Update step indicator             stepIndicator.textContent = `Step ${currentStep + 1} of ${steps.length}`;                          // Update button states             document.getElementById('prevBtn').disabled = currentStep === 0;             document.getElementById('nextBtn').disabled = currentStep === steps.length - 1;         }          // Event listeners for navigation buttons         document.getElementById('prevBtn').addEventListener('click', () => {             if (currentStep > 0) {                 currentStep--;                 renderStep();             }         });          document.getElementById('nextBtn').addEventListener('click', () => {             if (currentStep < steps.length - 1) {                 currentStep++;                 renderStep();             }         });          // Initialize         generateSteps();         renderStep();     </script> </body> </html>