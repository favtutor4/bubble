<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stack and Queue Operations Animation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #FFFFFF;
            color: #000000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        
        h1 {
            color: #FF4800;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            position: relative;
        }
        
        .animation-container {
            display: flex;
            justify-content: space-between;
            height: 400px;
            margin-bottom: 20px;
            position: relative;
        }
        
        .step-container {
            display: none;
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .step-container.active {
            display: block;
        }
        
        .data-structure {
            position: absolute;
            border: 2px solid #000000;
            background: #FD9F78;
            text-align: center;
        }
        
        .queue {
            width: 300px;
            height: 60px;
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            align-items: center;
            border: 2px solid #000000;
            background: #FFFFFF;
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .stack {
            width: 60px;
            height: 280px;
            display: flex;
            flex-direction: column-reverse;
            justify-content: flex-start;
            align-items: center;
            border: 2px solid #000000;
            background: #FFFFFF;
            position: absolute;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .element {
            width: 40px;
            height: 40px;
            margin: 2px;
            background-color: #FD9F78;
            color: #FFFFFF;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            border-radius: 5px;
            border: 1px solid #FF4800;
            transition: transform 0.5s, background-color 0.5s;
        }
        
        .structure-label {
            font-weight: bold;
            color: #FF4800;
            margin-bottom: 5px;
            position: absolute;
            text-align: center;
            width: 100%;
        }
        
        .queue-label {
            top: -25px;
        }
        
        .stack-label {
            bottom: -25px;
        }
        
        .arrow {
            position: absolute;
            width: 40px;
            height: 40px;
            background-color: transparent;
            text-align: center;
            font-size: 24px;
            color: #FF4800;
            display: none;
        }
        
        .description-box {
            background-color: #FFFFFF;
            border: 2px solid #FF4800;
            padding: 15px;
            margin-top: 30px;
            border-radius: 8px;
            width: 100%;
            max-width: 800px;
            text-align: center;
            min-height: 100px;
        }
        
        .step-title {
            font-weight: bold;
            color: #FF4800;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 400px;
            margin-top: 20px;
        }
        
        .nav-button {
            background-color: #FF4800;
            color: #FFFFFF;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .nav-button:hover {
            background-color: #FD9F78;
        }
        
        .nav-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .step-indicator {
            display: flex;
            justify-content: center;
            margin-top: 15px;
        }
        
        .step-dot {
            width: 12px;
            height: 12px;
            background-color: #FD9F78;
            border-radius: 50%;
            margin: 0 5px;
            cursor: pointer;
        }
        
        .step-dot.active {
            background-color: #FF4800;
        }
        
        .element.highlighted {
            background-color: #FF4800;
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <h1>Stack and Queue Operations Diagram</h1>
    
    <div class="container">
        <div class="animation-container">
            <!-- Step 1: Moving first half to stack -->
            <div class="step-container active" id="step1">
                <div class="queue">
                    <div class="structure-label queue-label">Queue</div>
                    <div class="element" id="q1">1</div>
                    <div class="element" id="q2">2</div>
                    <div class="element" id="q3">3</div>
                    <div class="element" id="q4">4</div>
                    <div class="element" id="q5">5</div>
                    <div class="element" id="q6">6</div>
                </div>
                
                <div class="stack">
                    <div class="structure-label stack-label">Stack</div>
                </div>
                
                <div class="arrow" id="step1-arrow">↓</div>
            </div>
            
            <!-- Step 2: Reversing first half back to queue -->
            <div class="step-container" id="step2">
                <div class="queue">
                    <div class="structure-label queue-label">Queue</div>
                    <div class="element" id="q4_2">4</div>
                    <div class="element" id="q5_2">5</div>
                    <div class="element" id="q6_2">6</div>
                </div>
                
                <div class="stack">
                    <div class="structure-label stack-label">Stack</div>
                    <div class="element" id="s1">1</div>
                    <div class="element" id="s2">2</div>
                    <div class="element" id="s3">3</div>
                </div>
                
                <div class="arrow" id="step2-arrow">↑</div>
            </div>
            
            <!-- Step 3: Restoring original order -->
            <div class="step-container" id="step3">
                <div class="queue">
                    <div class="structure-label queue-label">Queue</div>
                    <div class="element" id="q3_3">3</div>
                    <div class="element" id="q2_3">2</div>
                    <div class="element" id="q1_3">1</div>
                    <div class="element" id="q4_3">4</div>
                    <div class="element" id="q5_3">5</div>
                    <div class="element" id="q6_3">6</div>
                </div>
                
                <div class="stack">
                    <div class="structure-label stack-label">Stack</div>
                </div>
            </div>
            
            <!-- Step 4: Interleaving elements -->
            <div class="step-container" id="step4">
                <div class="queue">
                    <div class="structure-label queue-label">Interleaved Queue</div>
                    <div class="element highlighted" id="q1_4">1</div>
                    <div class="element highlighted" id="q4_4">4</div>
                    <div class="element highlighted" id="q2_4">2</div>
                    <div class="element highlighted" id="q5_4">5</div>
                    <div class="element highlighted" id="q3_4">3</div>
                    <div class="element highlighted" id="q6_4">6</div>
                </div>
                
                <div class="stack" style="visibility: hidden;">
                    <div class="structure-label stack-label">Stack</div>
                </div>
            </div>
        </div>
        
        <div class="description-box">
            <div class="step-title" id="step-title">Step 1: Moving First Half to Stack</div>
            <div id="step-description">We start with a queue containing all elements (1, 2, 3, 4, 5, 6). In this step, we move the first half of the elements (1, 2, 3) from the queue to the stack. This will reverse their order in preparation for interleaving.</div>
        </div>
        
        <div class="nav-buttons">
            <button class="nav-button" id="prev-button" disabled>Previous</button>
            <button class="nav-button" id="next-button">Next</button>
        </div>
        
        <div class="step-indicator">
            <div class="step-dot active" data-step="1"></div>
            <div class="step-dot" data-step="2"></div>
            <div class="step-dot" data-step="3"></div>
            <div class="step-dot" data-step="4"></div>
        </div>
    </div>
    
    <script>
        let currentStep = 1;
        const totalSteps = 4;
        
        const stepDescriptions = [
            {
                title: "Step 1: Moving First Half to Stack",
                description: "We start with a queue containing all elements (1, 2, 3, 4, 5, 6). In this step, we move the first half of the elements (1, 2, 3) from the queue to the stack. This will reverse their order in preparation for interleaving."
            },
            {
                title: "Step 2: Reversing First Half Back to Queue",
                description: "After moving the first half to the stack, we now have elements 4, 5, 6 remaining in the queue. The first half (1, 2, 3) is in the stack in reversed order. We'll now start popping elements from the stack back to the queue."
            },
            {
                title: "Step 3: Restoring Original Order",
                description: "Now the queue contains elements in the order: 3, 2, 1, 4, 5, 6. The first half is reversed (3, 2, 1) followed by the second half in original order (4, 5, 6). The stack is now empty."
            },
            {
                title: "Step 4: Interleaving Elements",
                description: "In the final step, we interleave the elements by alternating between the first half and second half. We dequeue elements and enqueue them in the pattern: 1, 4, 2, 5, 3, 6. This completes the interleaving process."
            }
        ];

        function updateStepVisibility() {
            // Hide all steps
            document.querySelectorAll('.step-container').forEach(step => {
                step.classList.remove('active');
            });
            
            // Show current step
            document.getElementById(`step${currentStep}`).classList.add('active');
            
            // Update step indicator dots
            document.querySelectorAll('.step-dot').forEach(dot => {
                dot.classList.remove('active');
            });
            document.querySelector(`.step-dot[data-step="${currentStep}"]`).classList.add('active');
            
            // Update description
            document.getElementById('step-title').textContent = stepDescriptions[currentStep - 1].title;
            document.getElementById('step-description').textContent = stepDescriptions[currentStep - 1].description;
            
            // Update button states
            document.getElementById('prev-button').disabled = (currentStep === 1);
            document.getElementById('next-button').disabled = (currentStep === totalSteps);
        }
        
        document.getElementById('next-button').addEventListener('click', () => {
            if (currentStep < totalSteps) {
                currentStep++;
                updateStepVisibility();
            }
        });
        
        document.getElementById('prev-button').addEventListener('click', () => {
            if (currentStep > 1) {
                currentStep--;
                updateStepVisibility();
            }
        });
        
        // Allow clicking on step indicator dots
        document.querySelectorAll('.step-dot').forEach(dot => {
            dot.addEventListener('click', () => {
                currentStep = parseInt(dot.getAttribute('data-step'));
                updateStepVisibility();
            });
        });
        
        // Initialize
        updateStepVisibility();
    </script>
</body>
</html>